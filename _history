{"entries":[{"timestamp":1772040160389,"editorVersion":"8.0.18","changes":[{"type":"edited","filename":"main.blocks","patch":[{"start1":0,"length1":237,"diffs":[[1,"<xml xmlns=\"http://www.w3.org/1999/xhtml\">\n  <block type=\"pxt-on-start\"></block>\n  <block type=\"device_forever\"></block>\n</xml>"]]}]},{"type":"edited","filename":"main.ts","patch":[{"start1":0,"length1":33,"diffs":[[1,"\n"]]}]},{"type":"edited","filename":"pxt.json","patch":[{"start1":217,"length1":49,"diffs":[[1,"        \"README.md\"\n"]]},{"start1":244,"length1":75,"diffs":[[1,"    \"additionalFilePaths\": []\n"]]}]},{"type":"added","filename":"test.ts","value":"// testene settes inn her; disse vil ikke kompilert så lenge denne pakken blir brukt som en utvidelse.\n"},{"type":"added","filename":"cansat_primaer.ts","value":"# CanSat - Programmere primæroppdraget\n\n### @diffs true\n### @unifiedToolbox true\n\n    < !--Del 1: -->\n\n## CanSat primæroppdrag @unplugged\n\nI denne veiledningen skal vi programmere primæroppdraget til CanSat.Når du er ferdig, vil du ha en fungerende CanSat som kan gjøre målingene vi trenger.\n\n### ** Det som må gjøres er: **\n\n#### ** 1)** Bygge opp grunnstruktur på koden vår\n\n#### ** 2)** Samle inn analogverdier fra NTC og vise på OLED - skjerm\n\n#### ** 3)** Konvertere analogverdi fra NTC til spenningsverdi\n\n#### ** 4)** Konvertere spenningsverdi fra NTC til lesbar temperaturverdi\n\n#### ** 5)** Runde av verdiene våre for å ikke få for mange desimaler\n\n#### ** 6)** Hente trykk - data fra BME280\n\n#### ** 7)** Beregne CanSat'ens høyde over bakken \n\n#### ** 8)** Logge og lagre dataene på micro: bit\n\n#### ** 9)** Overføre dataene fra CanSat til en PC, og vise de på skjermen\n\n\n### ** Lykke til! **\n\n\n    <!--Del 1.1: -->\n\n## Oppgave 1 - Bygge opp grunnstruktur på koden vår som gjør den lettere å lage\n\nFor å gjøre koden vår så lett som mulig å lage, bør vi starte med å strukturere koden vår.\n\n#### Vi skal lage 4 `` || functions: funksjoner || `` i koden vår:\n\n- En som samler data: f.eks. ** samle_data **\n    - En for å vise dataene på OLED - skjerm: f.eks. ** vise_data_OLED **\n        - En for å vise dataene på PC - skjerm: f.eks. ** vise_data_PC **\n            - En som lar meg lagre dataene på internminne til micro: bit: f.eks. ** lagre_data **\n\n                Alle funksjonene skal kjøres fra`` || basic: gjenta for alltid || ``.Legg også inn en`` || basic: pause || `` på 500ms.etter at alle funksjonene har kjørt.\n\n```blocks\nfunction samle_data () {}\nfunction vise_data_OLED () {}\nfunction vise_data_PC () {}\nfunction lagre_data () {}\nbasic.forever(function () {\n    samle_data()\n    vise_data_OLED()\n    vise_data_PC()\n    lagre_data()\n    basic.pause(500)\n})\n\n```\n\n                    < !--Del 2.1: -->\n\n## Oppgave 2 - Hente analogverdi fra temperatursensor(NTC)\n\nFor å måle temperaturen rundt CanSat, skal vi bruke en 10 kΩ NTC.Motstanden dens vil variere avhenging av temperaturen.Vi må derfor  regne om den analoge verdien vi får fra NTC'en, som er koblet til pin P10.\n\nLag en ny variabel`` || variables: analogverdi_NTC || ``.Sett den til å lese av`` || pins: analogverdi fra P10 || ``.Gjør dette inne funsjonen: `` || functions: samle_data || ``. \n\n```blocks\nlet analogverdi_NTC = 0\nfunction samle_data () {\n    analogverdi_NTC = pins.analogReadPin(AnalogReadWritePin.P10)\n}\n```\n\n    < !--Del 2.2: -->\n\n## Oppgave 2 - Vis tekst og verdier på OLED - skjerm @unplugged\n\nKitronik OLED - skjerm lar oss vise verdiene våre mye mer effektivt enn skjermen på micro: biten:\n\nFor å ta i bruk OLED - skjermen, koble den til mellom CanSat og micro: bit.\n\n![OLED_Kitronik_liten.jpg](https://i.postimg.cc/mD2ry8kJ/OLED_Kitronik_liten.jpg)\n\n\n    <!--Del 2.3: -->\n\n## Oppgave 2 - Sette opp OLED - skjerm for å kunne vise analogverdi fra NTC\n\nFra biblioteket`` || kitronik_VIEW128x64: OLED - skjerm || ``, hent blokkene`` || kitronik_VIEW128x64: skru AV OLED - skjerm || `` og`` || kitronik_VIEW128x64: Sett font størrelse til Normal || ``.\n\nPlasser begge blokkene inn i`` || basic: ved start || ``, og sett OLED - skjerm til`` || kitronik_VIEW128x64: PÅ || ``.\n\n```blocks\nkitronik_VIEW128x64.controlDisplayOnOff(kitronik_VIEW128x64.onOff(true))\nkitronik_VIEW128x64.setFontSize(kitronik_VIEW128x64.FontSelection.Normal)\n```\n\n    < !--Del 2.4: -->\n\n## Oppgave 2 - Vise analogverdi fra NTC på OLED - skjerm\n\nInni funksjonen`` || functions: vise_data_OLED || `` skal vi kjøre kodene for alt vi vil vise på OLED - skjermen vår.\n\nFor å vise noe på skjermen, bruk blokken`` || kitronik_VIEW128x64: vis || ``.Trykk på pluss(+) for å utvide blokken, og bestemme hvilken linje teksten skal skrives på:\n\nFor å kunne vise både tekst og en variabel på samme linje, må vi hente`` || text: sett sammen || `` fra biblioteket`` || text: Tekst || ``.Sett blokken inni`` || kitronik_VIEW128x64: vis || ``.\n\nI den første ruta til`` || text: sett sammen || ``, skriv \"Analog (NTC): \".I den andre ruta, sette inn variabelen`` || variables: analogverdi_NTC || ``.\n\n** Last ned koden på micro: bit på CanSat, og sjekk at du får verdien ut på OLED - skjermen.** Du kan forvente en analogverdi rundt 500.\n\n    ```blocks\nfunction vise_data_OLED () {\n    kitronik_VIEW128x64.show(\"Analog (NTC): \" + analogverdi_NTC, 1)\n}\n```\n\n    < !--Del 2.5: -->\n\n## Oppgave 2 - Oppdatere OLED - skjerm\n\nVi må sørge for at skjermen alltid er oppdatert og viser riktig tekst og verdier.Det gjør vi ved å bruke blokken`` || kitronik_VIEW128x64: fjern alt på skjermen || ``.\n\nPlasser blokken øverst inni`` || basic: gjenta for alltid || ``.\n\n```blocks\nfunction samle_data () {\n    analogverdi_NTC = pins.analogReadPin(AnalogReadWritePin.P10)\n}\nfunction vise_data_OLED () {\n    kitronik_VIEW128x64.show(\"Analog (NTC): \" + analogverdi_NTC, 1)\n}\nfunction lagre_data () {\n\t\n}\nfunction vise_data_PC () {\n\t\n}\nlet analogverdi_NTC = 0\nbasic.forever(function () {\n    kitronik_VIEW128x64.clear()\n    samle_data()\n    vise_data_OLED()\n    vise_data_PC()\n    lagre_data()\n    basic.pause(500)\n})\n```\n\n\n    < !--Del 3.1: -->\n\n## Oppgave 3 - Konvertere analogverdi fra NTC til en lesbar temperaturverdi @unplugged\n\nDen analoge verdien vi leser fra pin P10, skal vi regne om til en spenningsverdi, og så videre til en faktisk temperaturverdien.\n\nVi må derfor lære hvordan man konverterer en analog verdi, som leses av micro: biten, til en spenningsverdi.\n\nFor å se at vi får riktige verdier i utregningene våre, skal vi koble til et AA - batteri til micro: biten og sjekke at formelen gir oss riktig spenning(1, 5V).\n\nKoble pluss(rød ledning) til P0 og minus(sort ledning) til GND på CanSat.\n\n![Oppkobling - AA - batteri - liten.jpg](https://i.postimg.cc/50fKhZh6/Oppkobling-AA-batteri-liten.jpg)\n\n    ![batteriholder - 1 - 5V.webp](https://i.postimg.cc/VkFHxBLV/batteriholder-1-5V.webp)\n\n\n        <!--Del 3.2: -->\n\n## Oppgave 3 - Lage en batteritester\n\nStart med å lage en ny funksjon: `` || functions: batteritester || ``.Denne funksjonen skal kun brukes i testfasen vår.Plasser den inn i`` || basic: gjenta for alltid || ``.\n\n    Inni`` || functions: batteritester || `` skal vi lage en ny variabel: `` || variables: analogverdi_batteri || ``.Sett`` || variables: analogverdi_batteri || `` til å`` || pins: lese analog verdi fra P0 || ``.\n\n```blocks\nlet analogverdi_batteri = 0\nfunction batteritester () {\n    analogverdi_batteri = pins.analogReadPin(AnalogPin.P0)\n}\n```\n\n        < !--Del 3.3: -->\n\n## Oppgave 3 - Lage en ny variabel: Uref\n\nSpenningen som micro: bit leverer til sensorene vi bruker vil variere om den får strøm fra USB eller batteri.\n\nSe tabell under for hva`` || variables: Uref || `` skal være:\n\n|   ** Spenning fra USB **   | |   ** Spenning fra batteri **   |\n| : ------------: | | : ------------: |\n| 3.2 | | 3.0 |\n\n    Lage en ny variabel: `` || variables: Uref || ``.\n\n`` || variables: Uref || `` skal settes inn i`` || basic: ved start || ``, og sett den til verdien bestemt i tabellen over.\n\n\n```blocks\nkitronik_VIEW128x64.controlDisplayOnOff(kitronik_VIEW128x64.onOff(true))\nkitronik_VIEW128x64.setFontSize(kitronik_VIEW128x64.FontSelection.Normal)\nlet Uref = 0\nUref = 3.2\n```\n\n\n    < !--Del 3.4: -->\n\n## Oppgave 3 - Beregne spenningen til batteri og NTC\n\nDe lagrede analogverdiene til både batteriet og NTC'en skal bruk til å beregne spenningen deres. For å forstå formelen vi bruker, se i hint-boksen.\n\nLage to nye variabel: `` || variables: spenning_NTC || `` og`` || variables: spenning_batteri || ``.\n\n- Sett`` || variables: spenning_NTC || `` til(`` || variables: analogverdi_NTC || `` / 1023) * `` || variables: Uref || ``. (Plasseres i funksjonen`` || functions: samle_data || ``)\n    - Sett`` || variables: spenning_batteri || `` til(`` || variables: analogverdi_batteri || `` / 1023) * `` || variables: Uref || ``. (Plasseres i funksjonen`` || functions: batteritester || ``)\n\n![Formel - spenning - fra - analogverdi - liten - kopi.png](https://i.postimg.cc/Nfqbf0g6/Formel-spenning-fra-analogverdi-liten-kopi.png)\n\n\n    ```blocks\nlet analogverdi_batteri = 0\nlet analogverdi_NTC = 0\nlet spenning_batteri = 0\nlet spenning_NTC = 0\nfunction samle_data () {\n    analogverdi_NTC = pins.analogReadPin(AnalogPin.P10)\n    spenning_NTC = analogverdi_NTC / 1023 * Uref\n}\nfunction batteritester () {\n    analogverdi_batteri = pins.analogReadPin(AnalogPin.P0)\n    spenning_batteri = analogverdi_batteri / 1023 * Uref\n}\n```\n\n\n    < !--Del 3.5: -->\n\n## Oppgave 3 - Vis spenningsverdi på OLED - skjerm\n\nVi skal gjøre det samme som vi gjorde for å vise analogverdien til NTC på OLED - skjermen.Husk å plassere det inn i funksjonen`` || functions: vise_data_OLED || ``.\n\nHent to nye blokker av`` || kitronik_VIEW128x64: vis || ``.Plasser`` || text: sett sammen || `` fra biblioteket`` || text: Tekst || `` inni`` || kitronik_VIEW128x64: vis || ``. \n\n- Inni den første`` || kitronik_VIEW128x64: vis || ``: I den første ruta til`` || text: sett sammen || ``, skriv \"Spenning (NTC): \".I den andre ruta, sette inn variabelen`` || variables: spenning_NTC || ``.Utvid til en tredje rute hvor du skriver \" V\".Skriv dette på linje 2.\n    - Inni den andre`` || kitronik_VIEW128x64: vis || ``: I den første ruta til`` || text: sett sammen || ``, skriv \"Spenning (batteri): \".I den andre ruta, sette inn variabelen`` || variables: spenning_batteri || ``.Utvid til en tredje rute hvor du skriver \" V\".Skriv dette på linje 3.\n        - \n\n** Last ned koden på micro: bit på CanSat, og sjekk at du får verdien ut på OLED - skjermen.** Du kan forvente en spenning rundt 1, 5V fra batteriet.\n\n```blocks\nfunction vise_data_OLED () {\n    kitronik_VIEW128x64.show(\"Analog (NTC): \" + analogverdi_NTC, 1)\n    kitronik_VIEW128x64.show(\"Spenning (NTC): \" + spenning_NTC + \" V\", 2)\n    kitronik_VIEW128x64.show(\"Spenning (batteri): \" + spenning_batteri + \" V\", 3)\n}\n```\n\n    < !--Del 3.6: -->\n\n## Oppgave 3 - Sjekke batteritester og rydde opp i koden\n\nHvis vi får en spenning på ca. 1, 5V fra batteriet, kan vi konkludere med at utregningene våre er riktige.Vi kan derfor slette følgende kode:\n\n- Hele funksjonen`` || functions: batteritester || ``\n    - `` || kitronik_VIEW128x64: vis || `` Spenning(batteri) fra funksjonen`` || functions: vise_data_OLED || ``\n\n\n        < !--Del 4.1: -->\n\n## Oppgave 4 - Regne om NTC spenningsverdi til temperaturverdi\n\nFor å få så nøyaktig temperaturverdi fra NTC'en, må vi gjøre en kalibrering. Det skal vi gjøre etterpå. Så foreløpig skal vi bruke formelen under:\n\nInne`` || functions: samle_data || ``, lage en ny variabel: `` || variables: temperatur_NTC || ``.\n\nBruk denne formelen for å sette`` || variables: temperatur_NTC || `` til(39.7956 * `` || variables: spenning_NTC || ``) - 42.7499\n\nSe hint for bilde av formel:\n\n    ![Formel - temperatur - NTC - fra - spenning - NTC.png](https://i.postimg.cc/MG6nhdGq/Formel-temperatur-NTC-fra-spenning-NTC.png)\n\n        ```blocks\nfunction samle_data () {\n    analogverdi_NTC = pins.analogReadPin(AnalogPin.P10)\n    spenning_NTC = analogverdi_NTC / 1023 * Uref\n    temperatur_NTC = 39.7956 * spenning_NTC - 42.7499\n}\n```\n\n        < !--Del 4.2: -->\n\n## Oppgave 4 - Vise temperaturverdi fra NTC på OLED - skjerm\n\nPlasseres inn i funksjonen`` || functions: vise_data_OLED || ``:\n\n        Hent en ny blokk av`` || kitronik_VIEW128x64: vis || ``.Plasser`` || text: sett sammen || `` fra biblioteket`` || text: Tekst || `` inni`` || kitronik_VIEW128x64: vis || ``. \n\n I den første ruta til`` || text: sett sammen || ``, skriv \"Temperatur (NTC): \".I den andre ruta, sette inn variabelen`` || variables: temperatur_NTC || ``.Utvid til en tredje rute hvor du skriver \" C\".Skriv dette på linje 3.\n\n    ** Last ned koden på micro: bit på CanSat, og sjekk at du får verdien ut på OLED - skjermen.** Sjekk om temperaturverdien gir mening.Det gjør ikke noe om den ikke gjør det.\n\n\n```blocks\nfunction vise_data_OLED () {\n    kitronik_VIEW128x64.show(\"Analog (NTC): \" + analogverdi_NTC, 1)\n    kitronik_VIEW128x64.show(\"Spenning (NTC): \" + spenning_NTC + \" V\", 2)\n    kitronik_VIEW128x64.show(\"Temperatur (NTC): \" + temperatur_NTC + \" C\", 3)\n}\n```\n    < !--Del 4.6: -->\n\n## Oppgave 5 - Runde av verdier til 2 desimaler\n\nDere har sikkert lagt merke til at verdiene våre har mange desimaler.Vi har ingen blokk som lar oss direkte avrunde til 2 desimaler.Vi må derfor lage en funksjon som vi kan bruke for å avrunde de verdiene vi ønsker.\n\nLag en ny funksjon: `` || functions: avrund || ``.Legg til parameteret \"nummer\" på linja over når du lager funksjonen.Endre \"tall\" til \"sensorverdi\".Hent frem retur - blokken og sett den inn i funksjonen.\n\nI returblokken skal vi multiplisere`` || variables: sensorverdien || `` med 100, og deretter`` || math: avrund || `` dette.Det gir oss et heltall som er 100 ganger for stort.Hvis vi nå deler det nye tallet vårt på 100, vil vi få riktig antall desimaler.\n\nKjør funksjonen`` || functions: avrund || `` i blokken der vi viser både`` || variables: spenning_NTC || `` og`` || variables: temperatur_NTC || ``. \n\n```blocks\nfunction vise_data_OLED () {\n    kitronik_VIEW128x64.show(\"Analog (NTC): \" + analogverdi_NTC, 1)\n    kitronik_VIEW128x64.show(\"Spenning (NTC): \" + avrund(spenning_NTC) + \" V\", 2)\n    kitronik_VIEW128x64.show(\"Temperatur (NTC): \" + avrund(temperatur_NTC) + \" C\", 3)\n}\nfunction avrund (sensorverdi: number) {\n    return Math.round(sensorverdi * 100) / 100\n}\n```\n    ** Last ned koden på micro: bit på CanSat, og sjekk at verdiene på OLED - skjermen vises kun med 2 desimaler.**\n\n\n        <!--Del 6: -->\n\n## Oppgave 6 - Lag et barometer @unplugged\n\n#### Vi skal bruke en`` || BME280: BME280 || `` sensor. \n\n![BME280.png](https://i.postimg.cc/3J0ZjjvD/BME280.png)\n\n            Denne sensoren kan måle:\n\n            - Temperatur\n            - Trykk\n            - Luftfuktighet\n            - Duggpunkt\n\nFor å lage et barometer skal vi bruke blokken`` || BME280: trykk || ``.\n\n\n< !--Del 6.1: -->\n\n## Oppgave 6: Koble opp og lese av fra BME280\n\nFor å få BME280 til å snakke med CanSat, skal vi sette opp to blokken inn i`` || basic: ved start || `` fra biblioteket`` || BME280: BME280 || ``:\n\n            - `` || BME280: Skru PÅ || ``\n            - `` || BME280: Sett adresse 0x76 || ``\n\nInne`` || functions: samle_data || ``, sett opp en ny variabel: `` || variables: trykk || ``.Sett`` || variables: trykk || `` til`` || BME280: trykk || ``(fra biblioteket BME280).\n\n```blocks\nkitronik_VIEW128x64.controlDisplayOnOff(kitronik_VIEW128x64.onOff(true))\nkitronik_VIEW128x64.setFontSize(kitronik_VIEW128x64.FontSelection.Normal)\nUref = 3.2\nBME280.PowerOn()\nBME280.Address(BME280_I2C_ADDRESS.ADDR_0x76)\nfunction samle_data () {\n    analogverdi_NTC = pins.analogReadPin(AnalogPin.P10)\n    spenning_NTC = analogverdi_NTC / 1023 * Uref\n    temperatur_NTC = 39.7956 * spenning_NTC - 42.7499\n    trykk = BME280.pressure(BME280_P.Pa)\n}\n```\n\n        < !--Del 6.2: -->\n\n## Oppgave 6: Skrive lufttrykk på OLED - skjerm\n\nKopier koden vi har brukt før for å skrive til OLED - skjerm inni`` || functions: vise_data_OLED || ``\n\nI den første ruta, skriv \"Trykk: \".I den andre ruta, sette inn`` || variables: trykk || ``.I den tredje, skriv \" Pa\".Skriv til linje 4.\n\n    ** Last ned koden på micro: bit på CanSat, og sjekk at du får verdien ut på OLED - skjermen.** Forventet trykk ligger rundt 100 000 Pa.\n\n\n```blocks\nfunction vise_data_OLED () {\n    kitronik_VIEW128x64.show(\"Analog (NTC): \" + analogverdi_NTC, 1)\n    kitronik_VIEW128x64.show(\"Spenning (NTC): \" + avrund(spenning_NTC) + \" V\", 2)\n    kitronik_VIEW128x64.show(\"Temperatur (NTC): \" + avrund(temperatur_NTC) + \" C\", 3)\n    kitronik_VIEW128x64.show(\"Trykk: \" + trykk + \" Pa\", 4)\n}\nfunction avrund (sensorverdi: number) {\n    return Math.round(sensorverdi * 100) / 100\n}\n```\n\n        < !--Del 7: -->\n\n## Oppgave 7 - Beregne høyden til CanSat over bakken @unplugged\n\nFor å beregne høyden CanSat har over bakken, skal vi bruke formelen under.\n\n![Regne_ut_høyde_i_forhold_til_trykk_liten_200.png](https://i.postimg.cc/6pygnRB4/Regne_ut_høyde_i_forhold_til_trykk_liten_200.png)\n\n- ** h:** Beregnet høyde i meter\n- ** h1:** Referansehøyde i meter(starthøyde er 0 eller m.o.h.)\n- ** T:** Temperatur i Kelvin(`` || variables: temperatur_NTC || `` + 273, 15)\n- ** T1:** Referansetemperatur ved referansehøyden h1\n- ** R:** Den spesifikke gasskonstant 287, 06 J / kg K\n- ** a:** Temperaturgradient, foreslått verdi - 0, 0065 K / m\n- ** p:** Målt trykk i Pa\n- ** p1:** Trykk i Pa ved referansehøyden h1\n- ** g0:** Tyngdeakselerasjonen 9, 81 m / s ^ 2\n\n\n< !--Del 7.1: -->\n\n## Oppgave 7 - Sette trykk og temperatur ved referansehøyden\n\nFør vi kan bygge formelen må vi lage en måte å nullstille høydemåleren vår.\n\nLag to ny variabler: `` || variables: trykk_1 || `` og`` || variables: temperatur_NTC_1 || ``.Plasser disse inn i`` || input: når knapp A trykkes || ``.\n\n- Sett`` || variables: trykk_1 || `` til`` || variables: trykk || ``\n- Sett`` || variables: temperatur_NTC_1 || `` til`` || variables: temperatur_NTC || `` \n\nDette vil gjøre at når knapp A trykkes inn, nullstilles høydemåleren.\n\n```blocks\ninput.onButtonPressed(Button.A, function () {\n\ttrykk_1 = trykk\n    temperatur_NTC_1 = temperatur_NTC\n})\n```\n\n< !--Del 7.2: -->\n\n## Oppgave 7 - Bygge formelen for å beregne høyden til CanSat\n\nVi har en egen blokk som gjør denne utregningen for oss.\n\nLag en ny variabel: `` || variables: høyde || ``.Sett den inn i funksjonen`` || functions: samle_data || ``.\n\nPlasser blokken fra biblioteket`` || barometric - height: Høydeberegning || ``.\n\nVi må plassere disse variablene inn i blokken:\n\n- Inni ruten p: Plasser variabelen`` || variables: trykk || ``\n    - Inni ruten p1: Plasser variabelen`` || variables: trykk_1 || ``\n        - Inni ruten T1: Plasser variabelen`` || variables: temperatur_NTC_1 || `` `` || math: + 273, 15 || ``\n\n            ```blocks\nlet høyde = høydeberegning.barometricHeight(\ntrykk,\ntrykk_1,\ntemperatur_NTC_1,\n0.0065,\n0,\n287,\n9.81\n)\n```\n\n            < !--Del 7.3: -->\n\n## Oppgave 7 - Vise høyden til CanSat på OLEd - skjermen\n\nKopier koden vi har brukt før for å skrive til OLED - skjerm inni`` || functions: vise_data_OLED || ``\n\nI den første ruta, skriv \"Høyde: \".I den andre ruta, sette inn`` || variables: høyde || ``.I den tredje, skriv \" m\".Skriv til linje 5.\n\nFor å få 2 desimaler, kjør`` || functions: avrund || `` inni der vi skriver variabelen`` || variables: høyde || ``.\n\n** Last ned koden på micro: bit på CanSat, og sjekk at du får verdien ut på OLED - skjermen.** Sjekk om høydemålingen gir mening.Viktig å trykke på knapp A på micro: bit for nullstille høyden.\n\n```blocks\nfunction vise_data_OLED () {\n    kitronik_VIEW128x64.show(\"Analog (NTC): \" + analogverdi_NTC, 1)\n    kitronik_VIEW128x64.show(\"Spenning (NTC): \" + avrund(spenning_NTC) + \" V\", 2)\n    kitronik_VIEW128x64.show(\"Temperatur (NTC): \" + avrund(temperatur_NTC) + \" C\", 3)\n    kitronik_VIEW128x64.show(\"Trykk: \" + trykk + \" Pa\", 4)\n    kitronik_VIEW128x64.show(\"Høyde: \" + avrund(høyde) + \" m\", 5)\n}\nfunction avrund (sensorverdi: number) {\n    return Math.round(sensorverdi * 100) / 100\n}\n```\n\n    < !--Del 8.1: -->\n\n## Oppgave 8 - Logge dataene vår på internminne til micro: bit @unplugged\n\n![internminne_til_micro: bit](https://cdn.sanity.io/images/ajwvhvgo/production/759979022f4dd381418c793e73b9fea8a01deb26-800x423.png?q=95)\n\n    Alle dataene vi samler skal lagres i internminne til micro: bit.\n\n\n< !--Del 8.2: -->\n\n## Oppgave 8 - Sette opp datalogger på micro: bit\n\nInni funksjonen`` || functions: lagre_data || ``: Finn frem blokken`` || datalogger: logg data || `` fra biblioteket`` || datalogger: datalogger || ``.\n\nHer skal vi sette inn de forskjellige dataene vi har samlet.For å legge til flere kolonner, trykk på pluss(+) - knappen.\n\nI kolonne, skriv hvilke data som samles.I verdi, plasser tilhørende variabel.\n\n```blocks\nfunction lagre_data () {\n    datalogger.log(\n    datalogger.createCV(\"Teller\", teller),\n    datalogger.createCV(\"Temperatur (NTC)\", temperatur_NTC),\n    datalogger.createCV(\"Trykk\", trykk)\n    )\n}\n```\n< !--Del 8.3: -->\n\n## Oppgave 8 - Sjekke at data blir logget\n\n** Last ned koden på CanSat, og koble den fra PC'en etterpå.**\n\nLa CanSat være skrudd på i 10 - 20 sekunder.Koble så micro: bit til PC'en.\n\nNår Filutforsker åpner mappen til micro: bit, åpne filen: ** MY_DATA **\n\nDu bør nå se dataene dine her!\n\n\n< !--Del 9.1: -->\n\n## Oppgave 9 - Overføre dataene fra CanSat til en PC, og vise de på skjermen\n\nVi skal nå sette opp det som skal inn i funksjonen`` || functions: vise_data_PC || ``.\n\nFinn frem blokken`` || serial: serieport skriv verdi || `` fra biblioteket`` || serial: serieport || ``.\n\nHer skal vi sette inn de forskjellige dataene vi har samlet.For å legge til en blokk for hver variabel du skal vise.\n\nI stedet for \"x\", skriv hvilke data som samles.Og plasser tilhørende variabel inn der 0 står.\n\n```blocks\nfunction vise_data_PC () {\n    serial.writeValue(\"Teller\", teller)\n    serial.writeValue(\"Temperatur (NTC)\", temperatur_NTC)\n    serial.writeValue(\"Trykk\", trykk)\n}\n```\n\n    < !--Del 10: -->\n\n## Ferdig!\n\nGratulerer! Du har nå en fungerende primær - oppdrag for CanSat med bruk av micro: bit!\n\n    ```blocks\ninput.onPinPressed(TouchPin.P0, function () {\n\n})\nradio.onReceivedNumber(function (receivedNumber) {\n\n})\ninput.onPinReleased(TouchPin.P0, function () {\n\n})\ninput.onLogoEvent(TouchButtonEvent.Pressed, function () {\n\n})\ninput.onButtonPressed(Button.A, function () {\n    if (input.buttonIsPressed(Button.A)) {\n        input.setAccelerometerRange(AcceleratorRange.OneG)\n        input.setSoundThreshold(SoundThreshold.Loud, 128)\n    } else if (input.acceleration(Dimension.X) == 0) {\n        // skjerm blokker\n        led.plot(led.brightness(), 0)\n        led.toggle(led.pointBrightness(0, 0), 0)\n        led.unplot(0, 0)\n        led.plotBarGraph(\n            0,\n            0\n        )\n        led.plotBrightness(0, 0, 255)\n        led.setBrightness(255)\n        led.enable(false)\n        led.stopAnimation()\n        led.setDisplayMode(DisplayMode.BlackAndWhite)\n    } else if (input.lightLevel() < 0) {\n        // radio blokker\n        radio.setGroup(1)\n        radio.sendNumber(0)\n        radio.sendValue(\"name\", 0)\n        radio.sendString(\"\")\n        radio.setTransmitPower(7)\n        radio.setTransmitSerialNumber(true)\n        radio.setFrequencyBand(0)\n        radio.raiseEvent(\n            EventBusSource.MICROBIT_ID_BUTTON_A,\n            EventBusValue.MICROBIT_EVT_ANY\n        )\n    } else if (input.pinIsPressed(TouchPin.P0)) {\n\n    } else if (input.isGesture(Gesture.Shake)) {\n\n    } else if (input.compassHeading() == 0) {\n\n    } else if (input.temperature() == 0) {\n\n    } else if (input.logoIsPressed()) {\n\n    } else if (\"\" == \"\") {\n\n    } else if (input.soundLevel() < input.magneticForce(Dimension.X) && input.rotation(Rotation.Pitch) == input.runningTime()) {\n\n    } else if (!(true) || false) {\n\n    } else if (input.runningTimeMicros() == 0 || 0 == 0) {\n        music.play(music.stringPlayable(\"- - - - - - - - \", 120), music.PlaybackMode.UntilDone)\n        music.play(music.tonePlayable(262, music.beat(BeatFraction.Whole)), music.PlaybackMode.UntilDone)\n        music.ringTone(262)\n        music.rest(music.beat(BeatFraction.Whole))\n        music.setVolume(music.volume())\n        music.stopAllSounds()\n        music.changeTempoBy(music.beat(BeatFraction.Whole))\n        music.setTempo(music.tempo())\n        music._playDefaultBackground(music.builtInPlayableMelody(Melodies.Dadadadum), music.PlaybackMode.InBackground)\n        music.stopMelody(MelodyStopOptions.All)\n        music.play(music.builtinPlayableSoundEffect(soundExpression.giggle), music.PlaybackMode.UntilDone)\n        music.play(music.createSoundExpression(WaveShape.Sine, 5000, 0, 255, 0, 500, SoundExpressionEffect.None, InterpolationCurve.Linear), music.PlaybackMode.UntilDone)\n        music.setBuiltInSpeakerEnabled(false)\n    } else if (music.isSoundPlaying()) {\n        tekst = (\"\" + \"this\".split(\"\") + String.fromCharCode(0).charCodeAt(0)).length\n        tekst = parseFloat(\"123\")\n        tekst = convertToText(0).charAt(0).substr(0, \"this\".compare(\"\")).indexOf(\"\")\n    } else if (led.point(0, 0)) {\n\n    } else if (BME280.temperature() == BME280.pressure()) {\n        BME280.PowerOn()\n        BME280.PowerOff()\n        BME280.Address(BME280_I2C_ADDRESS.ADDR_0x76)\n    } else if (Math.randomBoolean()) {\n        basic.showNumber(0 * 0 - Math.PI + 0 / (Math.min(Math.max(Math.sqrt(Math.round(randint(0, 10))), Math.abs(Math.constrain(0, 0, 0))), Math.map(0, 0, 1023, 0, 4)) % 1))\n    } else if (\"this\".includes(\"\")) {\n\n    } else if (\"this\".isEmpty()) {\n\n    } else if (pins.digitalReadPin(pins.map(\n        0,\n        0,\n        1023,\n        0,\n        4\n    )) == pins.analogReadPin(AnalogPin.P0)) {\n        pins.digitalWritePin(DigitalPin.P0, 0)\n        pins.analogWritePin(AnalogPin.P0, 1023)\n        pins.analogSetPeriod(AnalogPin.P0, 20000)\n        pins.setAudioPin(DigitalPin.P0)\n        pins.setAudioPinEnabled(false)\n        pins.servoWritePin(AnalogPin.P0, 180)\n        pins.servoSetPulse(AnalogPin.P0, 1500)\n    } else if (control.millis() == 0) {\n        control.waitForEvent(control.eventValue(), 0)\n        control.reset()\n        control.waitMicros(control.eventTimestamp())\n        control.raiseEvent(\n            EventBusSource.MICROBIT_ID_BUTTON_A,\n            EventBusValue.MICROBIT_EVT_ANY\n        )\n    } else {\n        serial.writeLine(serial.readLine())\n        serial.writeNumber(0)\n        serial.writeValue(\"\" + serial.readUntil(serial.delimiters(Delimiters.NewLine)) + serial.readString(), 0)\n        serial.writeString(\"\" + (serial.readBuffer(0)))\n        serial.writeNumbers([0, 1])\n        serial.redirect(\n            SerialPin.P0,\n            SerialPin.P1,\n            BaudRate.BaudRate115200\n        )\n        serial.redirectToUSB()\n        serial.setTxBufferSize(32)\n        serial.setRxBufferSize(32)\n        serial.setWriteLinePadding(0)\n        serial.setBaudRate(BaudRate.BaudRate115200)\n    }\n})\ninput.onGesture(Gesture.Shake, function () {\n    BME280.temperature()\n    BME280.pressure()\n    BME280.PowerOn()\n    BME280.PowerOff()\n    BME280.Address(BMP280_I2C_ADDRESS.ADDR_0x76)\n})\nfunction doSomething() {\n\n}\nradio.onReceivedString(function (receivedString) {\n\n})\ninput.onSound(DetectedSound.Loud, function () {\n\n})\nradio.onReceivedValue(function (name, value) {\n\n})\ncontrol.onEvent(EventBusSource.MICROBIT_ID_BUTTON_A, EventBusValue.MICROBIT_EVT_ANY, function () {\n\n})\nserial.onDataReceived(serial.delimiters(Delimiters.NewLine), function () {\n\n})\npins.onPulsed(DigitalPin.P0, PulseValue.High, function () {\n\n})\nmusic.onEvent(MusicEvent.MelodyNotePlayed, function () {\n\n})\nlet teksttabell: string[] = []\nlet tabell: number[] = []\nlet tekst = 0\n// basis blokker\nbasic.showNumber(0)\nbasic.showLeds(`\n    . . . . .\n    . . . . .\n    . .#. .\n    . . . . .\n    . . . . .\n    `)\nbasic.showIcon(IconNames.Heart)\nbasic.showString(\"Hello!\")\nbasic.clearScreen()\nbasic.pause(100)\nbasic.showArrow(ArrowNames.North)\nradio.setGroup(1)\nradio.sendNumber(0)\nradio.sendValue(\"name\", 0)\nradio.sendString(\"\")\nradio.setTransmitPower(7)\nradio.setTransmitSerialNumber(true)\nradio.setFrequencyBand(0)\nradio.raiseEvent(\n    EventBusSource.MICROBIT_ID_BUTTON_A,\n    EventBusValue.MICROBIT_EVT_ANY\n)\nloops.everyInterval(500, function () {\n\n})\nbasic.forever(function () {\n    let list: number[] = []\n    for (let index = 0; index < 4; index++) {\n\n    }\n    // løkker blokker\n    while (false) {\n\n    }\n    for (let verdi of tabell) {\n\n    }\n    for (let indeks = 0; indeks <= 4; indeks++) {\n\n    }\n    for (let index = 0; index < 5; index++) {\n\n    }\n    for (let index = 0; index < radio.receivedPacket(RadioPacketProperty.SignalStrength); index++) {\n        continue;\n        break;\n    }\n    // Logikk blokker\n    if (true) {\n\n    }\n    if (true) {\n\n    } else {\n\n    }\n    kitronik_VIEW128x64.controlDisplayOnOff(kitronik_VIEW128x64.onOff(false))\n    kitronik_VIEW128x64.setFontSize(kitronik_VIEW128x64.FontSelection.Normal)\n    kitronik_VIEW128x64.refresh()\n    kitronik_VIEW128x64.invert(kitronik_VIEW128x64.onOff(false))\n    kitronik_VIEW128x64.show(0)\n    kitronik_VIEW128x64.setPixel(0, 0)\n    kitronik_VIEW128x64.plot(0)\n    kitronik_VIEW128x64.drawLine(kitronik_VIEW128x64.LineDirectionSelection.horizontal, 10, 0, 0)\n    kitronik_VIEW128x64.drawRect(60, 30, 0, 0)\n    kitronik_VIEW128x64.clearLine(1)\n    kitronik_VIEW128x64.clearPixel(0, 0)\n    kitronik_VIEW128x64.clear()\n    // funksjoner blokker\n    doSomething()\n    // tabeller blokker\n    tabell = [tabell.length, 2, 3]\n    teksttabell = [\"ei / en / ett\", \"b\", \"c\"]\n    tabell[list.removeAt(list._pickRandom())] = list.shift()\n    tabell.push(tabell[list.pop()])\n    tabell.pop()\n    tabell = []\n    tabell[0] = 0\n    list.push(list.unshift(0))\n    list.pop()\n    tabell.shift()\n    list.unshift(0)\n    list.insertAt(0, list.indexOf(0))\n    list.removeAt(0)\n    list.reverse()\n})\nbasic.forever(function () {\n\n})\ncontrol.inBackground(function () {\n\n})\n\ndatalogger.onLogFull(function () {\n\t\n})\ndatalogger.log(datalogger.createCV(\"\", 0))\ndatalogger.setColumnTitles(\"\")\ndatalogger.deleteLog()\ndatalogger.includeTimestamp(FlashLogTimeStampFormat.None)\ndatalogger.mirrorToSerial(false)\ndatalogger.createCV(\"\", null)\n```\n\n    ```package\noled-skjerm=github:oysa88/oled-skjerm\nBME280=github:oysa88/BME280\nbarometric-height=github:oysa88/barometric-height\ndatalogger=github:oysa88/datalogger\n```"}]}],"snapshots":[{"timestamp":1772040160388,"editorVersion":"8.0.18","text":{"main.blocks":"<xml xmlns=\"http://www.w3.org/1999/xhtml\">\n  <block type=\"pxt-on-start\"></block>\n  <block type=\"device_forever\"></block>\n</xml>","main.ts":"\n","README.md":"","pxt.json":"{\n    \"name\": \"cansat_primaeroppdrag\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"core\": \"*\",\n        \"radio\": \"*\",\n        \"microphone\": \"*\"\n    },\n    \"files\": [\n        \"main.blocks\",\n        \"main.ts\",\n        \"README.md\"\n    ],\n    \"additionalFilePaths\": []\n}\n"}}],"shares":[],"lastSaveTime":1772040270469}